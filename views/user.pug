//-
//- Copyright 2021 Richard Vassilaros 
//-

doctype html
html(lang="en")
  head
    title Let's Quibble!
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    link(rel='stylesheet', href='views/user.css')
    link(rel="stylesheet" href="https://use.typekit.net/cdx8egk.css")
  body
    input(id="user_display_name" type="hidden" value=user.display_name)
    input(id="user" type="hidden" value=user.id.toHexString())
    input(id="ws_port" type="hidden" value=user.port)

    div(id="help_dialog" class="help" style="{display : none}")
      p Contact us with suggestions, bugs, quibbles or salutations at 
        a(id="mail_link" href="mailto:letsquibble878@gmail.com") Let's Quibble!
      div.help_head1 In-Process Games
        p This is where all of your started games are listed. They stay in the list until finished. 
      div.help_head1 Start A New Game 
        p If there is a player in the list that you want to play, select the list item and click GO PLAY! You can also ADD YOUR NAME to the list and wait for an opponent to select your name. 
        p Once GO PLAY has been clicked a new game is started that both players can see. The player that clicks GO PLAY is player 1 and starts the game play.
      div.help_head1 Practice Game
        p For good practice in word-building and tactics.
      div#help_ctrls
        input(id="help_ok_btn" type="button" class="button" value="OK")

    #all
      #control_pnl
        span#logout
          input(id="help_btn" type="button" value="HELP" )
          if (user.role & User.admin)
            input(id="admin_btn" type="button" class="logout_button" value="ADMIN")
          input(id="logout_btn" type="button" class="logout_button" value="LOG OUT")
        #welcome
          |Let's Quibble, #{user.display_name}
            
        #games
          div.sub_label In-Process Games
            if games.length > 0
              select(id="games_lst")
                option(value=-1) Select A Game
                each val, idx in games
                  if val.active 
                    option(value=idx) #{val.name}

            input(id="games_btn" type="button" class="button" value="GO PLAY!" )
            input(id="delete_game_btn" type="button" value="DELETE GAME" )
            
          - var num = `(${gamers.length} Available)`;
          div.sub_label Start A New Game
            br
            span.descrip Select a player from the available player pool 
              i#num_waiting #{num} 
            select(id="pickup_lst")
              option(value=-1) Select A Player
              each val, idx in gamers
                option(value=idx) #{val}
            input(id="play_pickup_btn" type="button" class="button" value="GO PLAY!")
            br
            span.descrip Or add your name to the available player pool
            br
            input(id="add_pickup_btn" type="button" class="button" value="ADD YOUR NAME" )

          div.sub_label Practice Game 
            br
            span.descrip Play yourself! A guaranteed win and good practice. 
            br
            input(id="practice_btn" type="button" class="button" value="PRACTICE")

    //- script(src="/js/user_home.min.js")
    script(src="/js/user_home.js")
